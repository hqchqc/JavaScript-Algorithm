<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // å°è£…é›†åˆç±»
        function Set(){
            this.items = {}

            // 1.addæ–¹æ³•
            Set.prototype.add = function (value) { 
                // å…ˆåˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªå…ƒç´  
                if(this.has(value)){
                    return false
                }
                this.items[value] = value
                return true
            }

            // 2.hasæ–¹æ³•
            Set.prototype.has = function (value) {  
                return this.items.hasOwnProperty(value)
            }

            // 3.removeæ–¹æ³•
            Set.prototype.remove = function (value) {  
                if(!this.has(value)){
                    return false
                }else{
                    delete this.items[value]
                    return true
                }
            }

            // 4.clearæ–¹æ³•
            Set.prototype.clear = function(){
                this.items = {}
            }

            // 5.sizeæ–¹æ³•
            Set.prototype.size = function(){
                return Object.keys(this.items).length
            }

            // 6.valuesæ–¹æ³•
            Set.prototype.values = function(){
                return Object.keys(this.items)
            } 

            // é›†åˆä¹‹é—´çš„æ“ä½œ
            // 1.å¹¶é›†
            Set.prototype.union = function(otherSet){
                // this: é›†åˆA
                // otherSet: é›†åˆB
                // 1.åˆ›å»ºä¸€ä¸ªå­˜æ”¾ç»“æœçš„é›†åˆ
                var unionSet = new Set()
                // 2.æŠŠé›†åˆAçš„å…ƒç´ è½¬æ¢ä¸ºæ•°ç»„
                var aSet = this.values()
                // 3.éå†é›†åˆA æŠŠé›†åˆAä¸­çš„å…ƒç´ æ”¾å…¥é›†åˆä¸­
                for(var i=0; i<aSet.length; i++){
                    unionSet.add(aSet[i])
                } 
                // 4.æŠŠé›†åˆBä¸­çš„å…ƒç´ æ”¾å…¥é›†åˆä¸­ ç”±äºaddæ–¹æ³•å¢åŠ äº†é‡å¤å…ƒç´ çš„åˆ¤æ–­ æ•…è¿™é‡Œç›´æ¥åŠ å…¥å³å¯
                var bSet = otherSet.values()
                for(var i=0; i<bSet.length; i++){
                    unionSet.add(bSet[i])
                }
                return unionSet  
            }   

            // 2.äº¤é›†
            Set.prototype.intersection = function(otherSet){
                // 1.åˆ›å»ºä¸€ä¸ªä¿å­˜ç»“æœçš„é›†åˆ
                var intersectionSet = new Set()
                // 2.æŠŠé›†åˆAè½¬æ¢ä¸ºæ•°ç»„
                var aSet = this.values()
                // 3.éå†é›†åˆA
                for(var i=0; i<aSet.length; i++){
                    // 4.åˆ¤æ–­é›†åˆBä¸­æ˜¯å¦æœ‰é›†åˆAä¸­çš„å…ƒç´ 
                    if(otherSet.has(aSet[i])){
                        // 5.å¦‚æœæœ‰å°±å°†æ­¤å…ƒç´ åŠ å…¥åˆ°ç»“æœé›†åˆä¸­
                        intersectionSet.add(aSet[i])
                    }
                }
                return intersectionSet
            }

            // 3.å·®é›†
            Set.prototype.difference = function(otherSet){
                var differenceSet = new Set()
                var aSet = this.values()
                for(var i=0; i<aSet.length; i++){
                    if(!otherSet.has(aSet[i])){
                        differenceSet.add(aSet[i])
                    }
                }
                return differenceSet
            }

            // 4.å­é›†
            Set.prototype.subset = function(otherSet){
                var subSet = new Set()
                var aSet = this.values()
                for(var i=0; i<aSet.length; i++){
                    if(!otherSet.has(aSet[i])){
                        return false 
                    }
                }
                return true
            }
        }

        // æµ‹è¯•ä»£ç 
        // var set = new Set()
        // // 1.addæ–¹æ³•
        // set.add('ğŸ')
        // set.add('ğŸŒ')
        // set.add('ğŸ‡')
        // alert(set.values())
        // // 2.hasæ–¹æ³•
        // alert(set.has('ğŸ‰'))
        // alert(set.has('ğŸ‡'))
        // // 3.removeæ–¹æ³•
        // set.remove('ğŸŒ')
        // alert(set.values())
        // // 4.sizeæ–¹æ³•
        // alert(set.size())
        // // 5.clearæ–¹æ³•
        // set.clear()
        // alert(set.values())

        // é›†åˆä¹‹é—´çš„æ–¹æ³•
        // 1.å¹¶é›†
        var setA = new Set()
        setA.add('ğŸš“')
        setA.add('ğŸš‘')
        setA.add('ğŸ›µ')
        var setB = new Set()
        setB.add('ğŸš†')
        setB.add('ğŸš‘')
        setB.add('ğŸ›µ')
        var unionSet = setA.union(setB)
        alert(unionSet.values())
        // 2.äº¤é›†
        var intersectionSet = setA.intersection(setB)
        alert(intersectionSet.values())
        // 3.å·®é›†
        var differenceSet = setA.difference(setB)
        alert(differenceSet.values())
        // 4.å­é›†
        alert(setA.subset(setB))
    </script>
</body>
</html>